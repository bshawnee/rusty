timestamp,client_addr,user,database,application,query_id,query_type,status,execution_time_ms,query
2025-12-14 21:10:31.794,127.0.0.1:59350,dev,postgres,psql,1,Create,SUCCESS,0.019,"create temp table t3(a int);"
2025-12-14 21:10:34.988,127.0.0.1:59350,dev,postgres,psql,2,Create,ERROR: relation "t3" already exists,0.009,"create temp table t3(a int);"
2025-12-14 21:10:36.921,127.0.0.1:59350,dev,postgres,psql,3,Other("abort;"),SUCCESS,0.010,"abort;"
2025-12-14 22:14:51.246,127.0.0.1:58878,dev,postgres,psql,1,Select,SUCCESS,5.032,"select pg_sleep(5);"
2025-12-14 22:15:03.537,127.0.0.1:58878,dev,postgres,psql,2,Select,SUCCESS,5.006,"select pg_sleep(5);"
2025-12-15 09:56:41.332,127.0.0.1:39478,dev,postgres,psql,8,Update,ERROR: canceling statement due to user request,11.290,"UPDATE orders SET status = 'shipped' WHERE id = 1;"
2025-12-15 09:58:20.933,127.0.0.1:39478,dev,postgres,psql,9,Select,ERROR: syntax error at or near "UPDATE",0.010,"WITH blocking_pids AS (             SELECT DISTINCT                 blocking.pid AS blocking_pid,                 blocked.pid AS blocked_pid             FROM pg_locks blocked             JOIN pg_locks blocking                  ON blocking.locktype = blocked.locktype                 AND blocking.database IS NOT DISTINCT FROM blocked.database                 AND blocking.relation IS NOT DISTINCT FROM blocked.relation                 AND blocking.page IS NOT DISTINCT FROM blocked.page                 AND blocking.tuple IS NOT DISTINCT FROM blocked.tuple                 AND blocking.virtualxid IS NOT DISTINCT FROM blocked.virtualxid                 AND blocking.transactionid IS NOT DISTINCT FROM blocked.transactionid                 AND blocking.classid IS NOT DISTINCT FROM blocked.classid                 AND blocking.objid IS NOT DISTINCT FROM blocked.objid                 AND blocking.objsubid IS NOT DISTINCT FROM blocked.objsubid                 AND blocking.pid != blocked.pid             WHERE NOT blocked.granted               AND blocking.granted               AND blocking.pid = 1         )         SELECT              bp.blocked_pid,             sa.query AS blocked_query,             sa.usename AS blocked_user,             EXTRACT(EPOCH FROM (now() - sa.query_start)) AS blocked_duration_seconds,             sa.wait_event,             l.locktype AS lock_type         FROM blocking_pids bp         JOIN pg_stat_activity sa ON sa.pid = bp.blocked_pid         LEFT JOIN pg_locks l ON l.pid = bp.blocked_pid AND NOT l.granted         WHERE sa.state != 'idle'         ORDER BY blocked_duration_seconds DESC UPDATE orders SET status = 'shipped' WHERE id = 1;"
2025-12-15 09:58:28.443,127.0.0.1:39478,dev,postgres,psql,10,Select,ERROR: syntax error at or near "UPDATE",0.000,"WITH blocking_pids AS (             SELECT DISTINCT                 blocking.pid AS blocking_pid,                 blocked.pid AS blocked_pid             FROM pg_locks blocked             JOIN pg_locks blocking                  ON blocking.locktype = blocked.locktype                 AND blocking.database IS NOT DISTINCT FROM blocked.database                 AND blocking.relation IS NOT DISTINCT FROM blocked.relation                 AND blocking.page IS NOT DISTINCT FROM blocked.page                 AND blocking.tuple IS NOT DISTINCT FROM blocked.tuple                 AND blocking.virtualxid IS NOT DISTINCT FROM blocked.virtualxid                 AND blocking.transactionid IS NOT DISTINCT FROM blocked.transactionid                 AND blocking.classid IS NOT DISTINCT FROM blocked.classid                 AND blocking.objid IS NOT DISTINCT FROM blocked.objid                 AND blocking.objsubid IS NOT DISTINCT FROM blocked.objsubid                 AND blocking.pid != blocked.pid             WHERE NOT blocked.granted               AND blocking.granted               AND blocking.pid = 1         )         SELECT              bp.blocked_pid,             sa.query AS blocked_query,             sa.usename AS blocked_user,             EXTRACT(EPOCH FROM (now() - sa.query_start)) AS blocked_duration_seconds,             sa.wait_event,             l.locktype AS lock_type         FROM blocking_pids bp         JOIN pg_stat_activity sa ON sa.pid = bp.blocked_pid         LEFT JOIN pg_locks l ON l.pid = bp.blocked_pid AND NOT l.granted         WHERE sa.state != 'idle'         ORDER BY blocked_duration_seconds DESC UPDATE orders SET status = 'shipped' WHERE id = 1;"
2025-12-15 09:58:49.591,127.0.0.1:39478,dev,postgres,psql,11,Select,ERROR: syntax error at or near "UPDATE",0.000,"WITH blocking_pids AS (             SELECT DISTINCT                 blocking.pid AS blocking_pid,                 blocked.pid AS blocked_pid             FROM pg_locks blocked             JOIN pg_locks blocking                  ON blocking.locktype = blocked.locktype                 AND blocking.database IS NOT DISTINCT FROM blocked.database                 AND blocking.relation IS NOT DISTINCT FROM blocked.relation                 AND blocking.page IS NOT DISTINCT FROM blocked.page                 AND blocking.tuple IS NOT DISTINCT FROM blocked.tuple                 AND blocking.virtualxid IS NOT DISTINCT FROM blocked.virtualxid                 AND blocking.transactionid IS NOT DISTINCT FROM blocked.transactionid                 AND blocking.classid IS NOT DISTINCT FROM blocked.classid                 AND blocking.objid IS NOT DISTINCT FROM blocked.objid                 AND blocking.objsubid IS NOT DISTINCT FROM blocked.objsubid                 AND blocking.pid != blocked.pid             WHERE NOT blocked.granted               AND blocking.granted               AND blocking.pid = 1         )         SELECT              bp.blocked_pid,             sa.query AS blocked_query,             sa.usename AS blocked_user,             EXTRACT(EPOCH FROM (now() - sa.query_start)) AS blocked_duration_seconds,             sa.wait_event,             l.locktype AS lock_type         FROM blocking_pids bp         JOIN pg_stat_activity sa ON sa.pid = bp.blocked_pid         LEFT JOIN pg_locks l ON l.pid = bp.blocked_pid AND NOT l.granted         WHERE sa.state != 'idle'         ORDER BY blocked_duration_seconds DESC UPDATE orders SET status = 'shipped' WHERE id = 1;"
2025-12-15 09:58:55.109,127.0.0.1:38256,dev,postgres,psql,12,Select,ERROR: syntax error at or near "UPDATE",0.000,"WITH blocking_pids AS (             SELECT DISTINCT                 blocking.pid AS blocking_pid,                 blocked.pid AS blocked_pid             FROM pg_locks blocked             JOIN pg_locks blocking                  ON blocking.locktype = blocked.locktype                 AND blocking.database IS NOT DISTINCT FROM blocked.database                 AND blocking.relation IS NOT DISTINCT FROM blocked.relation                 AND blocking.page IS NOT DISTINCT FROM blocked.page                 AND blocking.tuple IS NOT DISTINCT FROM blocked.tuple                 AND blocking.virtualxid IS NOT DISTINCT FROM blocked.virtualxid                 AND blocking.transactionid IS NOT DISTINCT FROM blocked.transactionid                 AND blocking.classid IS NOT DISTINCT FROM blocked.classid                 AND blocking.objid IS NOT DISTINCT FROM blocked.objid                 AND blocking.objsubid IS NOT DISTINCT FROM blocked.objsubid                 AND blocking.pid != blocked.pid             WHERE NOT blocked.granted               AND blocking.granted               AND blocking.pid = 1         )         SELECT              bp.blocked_pid,             sa.query AS blocked_query,             sa.usename AS blocked_user,             EXTRACT(EPOCH FROM (now() - sa.query_start)) AS blocked_duration_seconds,             sa.wait_event,             l.locktype AS lock_type         FROM blocking_pids bp         JOIN pg_stat_activity sa ON sa.pid = bp.blocked_pid         LEFT JOIN pg_locks l ON l.pid = bp.blocked_pid AND NOT l.granted         WHERE sa.state != 'idle'         ORDER BY blocked_duration_seconds DESC UPDATE orders SET status = 'shipped' WHERE id = 1;"
2025-12-15 09:59:21.192,127.0.0.1:38256,dev,postgres,psql,14,Select,ERROR: syntax error at or near "UPDATE",0.000,"WITH blocking_pids AS (             SELECT DISTINCT                 blocking.pid AS blocking_pid,                 blocked.pid AS blocked_pid             FROM pg_locks blocked             JOIN pg_locks blocking                  ON blocking.locktype = blocked.locktype                 AND blocking.database IS NOT DISTINCT FROM blocked.database                 AND blocking.relation IS NOT DISTINCT FROM blocked.relation                 AND blocking.page IS NOT DISTINCT FROM blocked.page                 AND blocking.tuple IS NOT DISTINCT FROM blocked.tuple                 AND blocking.virtualxid IS NOT DISTINCT FROM blocked.virtualxid                 AND blocking.transactionid IS NOT DISTINCT FROM blocked.transactionid                 AND blocking.classid IS NOT DISTINCT FROM blocked.classid                 AND blocking.objid IS NOT DISTINCT FROM blocked.objid                 AND blocking.objsubid IS NOT DISTINCT FROM blocked.objsubid                 AND blocking.pid != blocked.pid             WHERE NOT blocked.granted               AND blocking.granted               AND blocking.pid = 1         )         SELECT              bp.blocked_pid,             sa.query AS blocked_query,             sa.usename AS blocked_user,             EXTRACT(EPOCH FROM (now() - sa.query_start)) AS blocked_duration_seconds,             sa.wait_event,             l.locktype AS lock_type         FROM blocking_pids bp         JOIN pg_stat_activity sa ON sa.pid = bp.blocked_pid         LEFT JOIN pg_locks l ON l.pid = bp.blocked_pid AND NOT l.granted         WHERE sa.state != 'idle'         ORDER BY blocked_duration_seconds DESC UPDATE orders SET status = 'shipped' WHERE id = 1;"
2025-12-15 09:59:28.622,127.0.0.1:50260,dev,postgres,psql,15,Select,ERROR: syntax error at or near "UPDATE",0.001,"WITH blocking_pids AS (             SELECT DISTINCT                 blocking.pid AS blocking_pid,                 blocked.pid AS blocked_pid             FROM pg_locks blocked             JOIN pg_locks blocking                  ON blocking.locktype = blocked.locktype                 AND blocking.database IS NOT DISTINCT FROM blocked.database                 AND blocking.relation IS NOT DISTINCT FROM blocked.relation                 AND blocking.page IS NOT DISTINCT FROM blocked.page                 AND blocking.tuple IS NOT DISTINCT FROM blocked.tuple                 AND blocking.virtualxid IS NOT DISTINCT FROM blocked.virtualxid                 AND blocking.transactionid IS NOT DISTINCT FROM blocked.transactionid                 AND blocking.classid IS NOT DISTINCT FROM blocked.classid                 AND blocking.objid IS NOT DISTINCT FROM blocked.objid                 AND blocking.objsubid IS NOT DISTINCT FROM blocked.objsubid                 AND blocking.pid != blocked.pid             WHERE NOT blocked.granted               AND blocking.granted               AND blocking.pid = 1         )         SELECT              bp.blocked_pid,             sa.query AS blocked_query,             sa.usename AS blocked_user,             EXTRACT(EPOCH FROM (now() - sa.query_start)) AS blocked_duration_seconds,             sa.wait_event,             l.locktype AS lock_type         FROM blocking_pids bp         JOIN pg_stat_activity sa ON sa.pid = bp.blocked_pid         LEFT JOIN pg_locks l ON l.pid = bp.blocked_pid AND NOT l.granted         WHERE sa.state != 'idle'         ORDER BY blocked_duration_seconds DESC UPDATE orders SET status = 'shipped' WHERE id = 1;"
2025-12-15 09:59:45.874,127.0.0.1:43656,dev,postgres,psql,0,Select,ERROR: syntax error at or near "UPDATE",0.021,"WITH blocking_pids AS (             SELECT DISTINCT                 blocking.pid AS blocking_pid,                 blocked.pid AS blocked_pid             FROM pg_locks blocked             JOIN pg_locks blocking                  ON blocking.locktype = blocked.locktype                 AND blocking.database IS NOT DISTINCT FROM blocked.database                 AND blocking.relation IS NOT DISTINCT FROM blocked.relation                 AND blocking.page IS NOT DISTINCT FROM blocked.page                 AND blocking.tuple IS NOT DISTINCT FROM blocked.tuple                 AND blocking.virtualxid IS NOT DISTINCT FROM blocked.virtualxid                 AND blocking.transactionid IS NOT DISTINCT FROM blocked.transactionid                 AND blocking.classid IS NOT DISTINCT FROM blocked.classid                 AND blocking.objid IS NOT DISTINCT FROM blocked.objid                 AND blocking.objsubid IS NOT DISTINCT FROM blocked.objsubid                 AND blocking.pid != blocked.pid             WHERE NOT blocked.granted               AND blocking.granted               AND blocking.pid = 1         )         SELECT              bp.blocked_pid,             sa.query AS blocked_query,             sa.usename AS blocked_user,             EXTRACT(EPOCH FROM (now() - sa.query_start)) AS blocked_duration_seconds,             sa.wait_event,             l.locktype AS lock_type         FROM blocking_pids bp         JOIN pg_stat_activity sa ON sa.pid = bp.blocked_pid         LEFT JOIN pg_locks l ON l.pid = bp.blocked_pid AND NOT l.granted         WHERE sa.state != 'idle'         ORDER BY blocked_duration_seconds DESC UPDATE orders SET status = 'shipped' WHERE id = 1;"
2025-12-15 10:19:27.439,127.0.0.1:52688,dev,postgres,psql,0,Other("begin;"),SUCCESS,0.004,"BEGIN;"
2025-12-15 10:19:28.621,127.0.0.1:52688,dev,postgres,psql,1,Update,SUCCESS,0.015,"UPDATE orders SET status = 'processing' WHERE id = 1;"
2025-12-15 10:19:58.455,127.0.0.1:52018,dev,postgres,psql,2,Update,ERROR: canceling statement due to user request,26.796,"UPDATE orders SET status = 'processing' WHERE id = 1;"
2025-12-15 10:37:17.437,127.0.0.1:45872,dev,postgres,psql,2,Update,ERROR: canceling statement due to user request,68.058,"UPDATE orders SET status = 'processing' WHERE id = 1;"
2025-12-15 10:39:18.239,127.0.0.1:45872,dev,postgres,psql,3,Update,ERROR: canceling statement due to user request,66.482,"UPDATE orders SET status = 'processing' WHERE id = 1;"
2025-12-15 10:36:03.534,127.0.0.1:33206,dev,postgres,psql,0,Other("begin;"),SUCCESS,0.012,"BEGIN;"
2025-12-15 10:36:04.356,127.0.0.1:33206,dev,postgres,psql,1,Update,SUCCESS,0.015,"UPDATE orders SET status = 'processing' WHERE id = 1;"
2025-12-15 10:44:55.713,127.0.0.1:41970,dev,postgres,psql,2,Update,ERROR: canceling statement due to user request,232.746,"UPDATE orders SET status = 'processing' WHERE id = 1;"
2025-12-15 10:48:59.692,127.0.0.1:41970,dev,postgres,psql,3,Update,SUCCESS,5.464,"UPDATE orders SET status = 'processing' WHERE id = 1;"
2025-12-15 11:01:39.030,127.0.0.1:41970,dev,postgres,psql,5,Create,SUCCESS,0.021,"CREATE TEMP TABLE test_lock(id serial PRIMARY KEY, val int);"
2025-12-15 11:01:39.032,127.0.0.1:41970,dev,postgres,psql,6,Insert,SUCCESS,0.001,"INSERT INTO test_lock(val) VALUES (1), (2), (3);"
2025-12-15 11:01:43.972,127.0.0.1:41970,dev,postgres,psql,7,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:01:49.573,127.0.0.1:41970,dev,postgres,psql,8,Select,SUCCESS,0.001,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 11:02:15.037,127.0.0.1:41970,dev,postgres,psql,11,Other("commit;"),SUCCESS,0.000,"commit;"
2025-12-15 11:02:32.913,127.0.0.1:48798,dev,postgres,psql,12,Create,SUCCESS,0.016,"CREATE TABLE test_lock(id serial PRIMARY KEY, val int);"
2025-12-15 11:02:32.914,127.0.0.1:48798,dev,postgres,psql,13,Insert,SUCCESS,0.001,"INSERT INTO test_lock(val) VALUES (1), (2), (3);"
2025-12-15 11:02:36.078,127.0.0.1:48798,dev,postgres,psql,14,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:02:39.072,127.0.0.1:48798,dev,postgres,psql,15,Select,SUCCESS,0.001,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 11:03:55.553,127.0.0.1:48798,dev,postgres,psql,22,Other("commmit;"),ERROR: syntax error at or near "commmit",0.000,"commmit;"
2025-12-15 11:04:44.424,127.0.0.1:48798,dev,postgres,psql,26,Other("commit;"),SUCCESS,0.000,"commit;"
2025-12-15 11:04:55.458,127.0.0.1:48798,dev,postgres,psql,28,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:05:03.289,127.0.0.1:48798,dev,postgres,psql,30,Select,SUCCESS,0.001,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 10:40:54.958,127.0.0.1:41962,dev,postgres,psql,0,Other("begin;"),SUCCESS,0.001,"BEGIN;"
2025-12-15 10:40:55.746,127.0.0.1:41962,dev,postgres,psql,1,Update,SUCCESS,0.002,"UPDATE orders SET status = 'processing' WHERE id = 1;"
2025-12-15 10:48:59.683,127.0.0.1:41962,dev,postgres,psql,4,Other("commit;"),SUCCESS,0.001,"commit;"
2025-12-15 11:02:02.709,127.0.0.1:41962,dev,postgres,psql,9,Other("begin;"),SUCCESS,0.000,"BEGIN;"
2025-12-15 11:02:07.114,127.0.0.1:41962,dev,postgres,psql,10,Select,ERROR: relation "test_lock" does not exist,0.009,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 11:02:43.699,127.0.0.1:41962,dev,postgres,psql,16,Other("commit;"),SUCCESS,0.000,"commit;"
2025-12-15 11:02:45.382,127.0.0.1:41962,dev,postgres,psql,17,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:03:55.553,127.0.0.1:41962,dev,postgres,psql,18,Select,SUCCESS,68.531,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 11:04:00.040,127.0.0.1:41962,dev,postgres,psql,23,Other("commit;"),SUCCESS,0.000,"commit;"
2025-12-15 11:04:35.549,127.0.0.1:41962,dev,postgres,psql,24,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:04:50.908,127.0.0.1:41962,dev,postgres,psql,25,Select,SUCCESS,13.558,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 11:04:59.701,127.0.0.1:41962,dev,postgres,psql,29,Other("commit;"),SUCCESS,0.000,"commit;"
2025-12-15 11:05:21.763,127.0.0.1:41962,dev,postgres,psql,31,Select,SUCCESS,0.001,"SELECT * FROM test_lock WHERE id = 2 FOR UPDATE;"
2025-12-15 11:05:52.918,127.0.0.1:41962,dev,postgres,psql,32,Select,ERROR: canceling statement due to user request,28.355,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 11:06:18.061,127.0.0.1:41962,dev,postgres,psql,38,Other("abort;"),SUCCESS,0.000,"abort;"
2025-12-15 11:06:26.036,127.0.0.1:41962,dev,postgres,psql,39,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:06:28.841,127.0.0.1:41962,dev,postgres,psql,40,Select,SUCCESS,0.001,"SELECT * FROM test_lock WHERE id = 2 FOR UPDATE;"
2025-12-15 11:07:41.850,127.0.0.1:41962,dev,postgres,psql,41,Select,ERROR: canceling statement due to user request,70.024,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 11:03:01.658,127.0.0.1:58780,dev,postgres,psql,19,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:03:07.237,127.0.0.1:58780,dev,postgres,psql,20,Select,SUCCESS,0.002,"SELECT * FROM test_lock WHERE id = 2 FOR UPDATE;"
2025-12-15 11:04:00.041,127.0.0.1:58780,dev,postgres,psql,21,Select,SUCCESS,37.819,"SELECT * FROM test_lock WHERE id = 1 FOR UPDATE;"
2025-12-15 11:04:50.908,127.0.0.1:58780,dev,postgres,psql,27,Other("commit;"),SUCCESS,0.000,"commit;"
2025-12-15 11:05:30.037,127.0.0.1:58780,dev,postgres,psql,33,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:05:32.038,127.0.0.1:58780,dev,postgres,psql,34,Select,SUCCESS,0.000,"SELECT * FROM test_lock WHERE id = 2 FOR UPDATE;"
2025-12-15 11:06:02.781,127.0.0.1:58780,dev,postgres,psql,35,Other("abort;"),SUCCESS,0.000,"abort;"
2025-12-15 11:06:05.949,127.0.0.1:58780,dev,postgres,psql,36,Other("commit;"),SUCCESS,0.000,"commit;"
2025-12-15 11:06:09.448,127.0.0.1:58780,dev,postgres,psql,37,Other("begin;"),SUCCESS,0.000,"begin;"
2025-12-15 11:07:41.850,127.0.0.1:58780,dev,postgres,psql,42,Select,SUCCESS,64.232,"SELECT * FROM test_lock WHERE id = 2 FOR UPDATE;"
